import{useState as t,useEffect as o,useCallback as r}from"react";function e(e,s){const[l,i]=t(s);o((()=>{const t=c(e);t&&i((o=>({...o,...t})))}),[e]);const m=r((t=>{i((o=>(n(e,{...o,...t}),{...o,...t})))}),[e]);return{state:l,update:r(((t,o)=>{m({[t]:o})}),[m]),reset:r((()=>{a(e),i(s)}),[s,e])}}const c=t=>{let o=null;try{const r=window.localStorage.getItem(t);r&&(o=JSON.parse(r))}catch(t){console.error(t)}return o},n=(t,o)=>{try{window.localStorage.setItem(t,JSON.stringify(o))}catch(t){console.error(t)}},a=t=>{try{window.localStorage.removeItem(t)}catch(t){console.error(t)}};export{c as getStorage,a as removeStorage,n as setStorage,e as useLocalStorage};
