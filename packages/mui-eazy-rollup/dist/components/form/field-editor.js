import{j as e}from"../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js";import{useRef as r,useEffect as o}from"react";import{useFormContext as t,Controller as m}from"../../node_modules/.pnpm/react-hook-form@7.50.1_react@18.2.0/node_modules/react-hook-form/dist/index.esm.js";import{Editor as a}from"../editor/index.js";import n from"../../node_modules/.pnpm/@mui_material@5.15.10_@emotion_react@11.11.3_@emotion_styled@11.11.0_@types_react@18.2.57_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/FormHelperText/FormHelperText.js";function s({name:s,helperText:d,id:i,...l}){const{control:p,watch:u,setValue:c,formState:{isSubmitSuccessful:_}}=t(),x=u(),f=r("edit"+Date.now().toString());return o((()=>{"<p><br></p>"===x[s]&&c(s,"",{shouldValidate:!_})}),[_,s,c,x]),e.jsx(m,{name:s,control:p,render:({field:r,fieldState:{error:o}})=>e.jsx(a,{id:f.current,value:r.value,onChange:r.onChange,error:!!o,sx:{width:"100%"},helperText:(!!o||d)&&e.jsx(n,{error:!!o,sx:{px:2},children:o?o?.message:d}),...l})})}export{s as default};
