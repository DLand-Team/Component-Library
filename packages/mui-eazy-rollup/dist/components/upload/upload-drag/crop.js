import{j as e}from"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js";import"../../../node_modules/.pnpm/cropperjs@1.6.1/node_modules/cropperjs/dist/cropper.min.css.js";import{useState as o,createRef as r,useEffect as t}from"react";import{Cropper as i}from"../../../node_modules/.pnpm/react-cropper@2.3.3_react@18.2.0/node_modules/react-cropper/dist/react-cropper.es.js";import"../../../utils/highlight.js";import"../../../node_modules/.pnpm/numeral@2.0.6/node_modules/numeral/numeral.js";import"../../../utils/myDay.js";import"@mui/material";import"../../../hooks/use-fields.js";import"../../iconify/iconify.js";import"../../image/image.js";import"./cropModal.js";import"../../editor/index.js";import"../../../node_modules/.pnpm/react-google-autocomplete@2.7.3_react@18.2.0/node_modules/react-google-autocomplete/lib/usePlacesAutocompleteService.js";import{dataURLToBlob as s}from"../../../utils/dataURLToBlob.js";const p=({name:p,src:m,callRef:a,onComplete:c,validateFunc:n})=>{const[l]=o(m),d=r(),u=()=>{if(void 0!==d.current?.cropper){let e=d.current?.cropper.getCroppedCanvas().toDataURL(),o=s(e);const r=new File([o],p||"hello.txt",{type:o.type}),[t=!0,i]=n?.(r)||[];return t&&c(r),[t,i]}};return t((()=>{a.current=u}),[a]),e.jsxs("div",{children:[e.jsx("div",{style:{width:"100%"},children:e.jsx(i,{ref:d,style:{height:400,width:"100%"},zoomTo:.5,initialAspectRatio:1,src:l,viewMode:1,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,guides:!0,aspectRatio:16/9})}),e.jsx("br",{style:{clear:"both"}})]})};export{p as Demo,p as default};
