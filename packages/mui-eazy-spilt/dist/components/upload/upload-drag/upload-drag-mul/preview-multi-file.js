import{j as e}from"../../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js";import{FileThumbnail as t}from"../../../file-thumbnail/file-thumbnail.js";import{Iconify as o}from"../../../iconify/iconify.js";import{Box as r}from"@mui/material";import{useRef as n}from"react";import{HTML5Backend as d}from"../../../../node_modules/.pnpm/react-dnd-html5-backend@16.0.1/node_modules/react-dnd-html5-backend/dist/index.js";import{DndProvider as i}from"../../../../node_modules/.pnpm/react-dnd@16.0.1_@types_node@20.11.16_@types_react@18.2.51_react@18.2.0/node_modules/react-dnd/dist/core/DndProvider.js";import{useDrop as m}from"../../../../node_modules/.pnpm/react-dnd@16.0.1_@types_node@20.11.16_@types_react@18.2.51_react@18.2.0/node_modules/react-dnd/dist/hooks/useDrop/useDrop.js";import{useDrag as s}from"../../../../node_modules/.pnpm/react-dnd@16.0.1_@types_node@20.11.16_@types_react@18.2.51_react@18.2.0/node_modules/react-dnd/dist/hooks/useDrag/useDrag.js";import a from"../../../../node_modules/.pnpm/@mui_material@5.15.5_@emotion_react@11.5.0_@emotion_styled@11.6.0_@types_react@18.2.51_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Stack/Stack.js";import c from"../../../../node_modules/.pnpm/@mui_material@5.15.5_@emotion_react@11.5.0_@emotion_styled@11.6.0_@types_react@18.2.51_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/ListItemText/ListItemText.js";import l from"../../../../node_modules/.pnpm/@mui_material@5.15.5_@emotion_react@11.5.0_@emotion_styled@11.6.0_@types_react@18.2.51_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/IconButton/IconButton.js";import{alpha as p}from"@mui/system";const _={CARD:"card"};function u({index:r,file:d,onRemove:i,sx:u={},moveCard:f}){const y=n(null),[{handlerId:x},g]=m({accept:_.CARD,collect:e=>({handlerId:e.getHandlerId()}),hover(e,t){if(!y.current)return;const o=e.index,n=r;if(o===n)return;const d=y.current?.getBoundingClientRect(),i=(d.bottom-d.top)/2,m=t.getClientOffset().y-d.top;o<n&&m<i||o>n&&m>i||(f?.(o,n),e.index=n)}}),[{isDragging:j},h]=s({type:_.CARD,item:()=>({id:d,index:r}),collect:e=>({isDragging:e.isDragging()})}),D=j?0:1;return h(g(y)),e.jsxs(a,{ref:y,"data-handler-id":x,spacing:2,direction:"row",alignItems:"center",sx:{my:1,py:1,px:1.5,borderRadius:1,border:e=>`solid 1px ${p(e.palette.grey[500],.16)}`,opacity:D,...u},children:[e.jsx(t,{file:d}),e.jsx(c,{primary:d.split("/").slice(-1)[0],secondary:"",secondaryTypographyProps:{component:"span",typography:"caption"}}),i&&e.jsx(l,{size:"small",onClick:()=>{i(d)},children:e.jsx(o,{icon:"mingcute:close-line",width:16})})]},d)}function f({fileNameList:t,onRemove:o,sx:n,moveCard:m}){return e.jsx(r,{children:e.jsx(i,{backend:d,children:t?.map(((t,r)=>e.jsx("div",{children:e.jsx(u,{index:r,moveCard:m,file:t,onRemove:o,sx:n})},t)))})})}export{_ as ItemTypes,f as default};
