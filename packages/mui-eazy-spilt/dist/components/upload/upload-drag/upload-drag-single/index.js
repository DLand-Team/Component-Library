import{j as e}from"../../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js";import{useState as o,useEffect as t}from"react";import{useDropzone as r}from"../../../../node_modules/.pnpm/react-dropzone@14.2.3_react@18.2.0/node_modules/react-dropzone/dist/es/index.js";import{Iconify as i}from"../../../iconify/iconify.js";import n from"./preview-single-file.js";import s from"../../ic-eva_cloud-upload-fill.svg.js";import{CircularProgress as a}from"@mui/material";import{useBoolean as l}from"../../../../hooks/use-boolean.js";import m from"../../../../node_modules/.pnpm/@mui_material@5.15.5_@emotion_react@11.5.0_@emotion_styled@11.6.0_@types_react@18.2.51_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Stack/Stack.js";import c from"../../../../node_modules/.pnpm/@mui_material@5.15.5_@emotion_react@11.5.0_@emotion_styled@11.6.0_@types_react@18.2.51_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Box/Box.js";import p from"../../../../node_modules/.pnpm/@mui_material@5.15.5_@emotion_react@11.5.0_@emotion_styled@11.6.0_@types_react@18.2.51_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Typography/Typography.js";import d from"../../../../node_modules/.pnpm/@mui_material@5.15.5_@emotion_react@11.5.0_@emotion_styled@11.6.0_@types_react@18.2.51_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/IconButton/IconButton.js";import{alpha as u}from"@mui/system";function _({disabled:_,multiple:g=!1,error:x,placeholder:f,helperText:h,onDel:y,onDelete:j,files:b,thumbnail:v,onUpload:k,onRemove:w,onAdd:A,onRemoveAll:D,sx:I,uploadAction:z,...B}){const R=l(!1),[S,C]=o(b||[]),[T,E]=o([]),{getRootProps:F,getInputProps:P,isDragActive:U,isDragReject:G}=r({multiple:g,disabled:_,onDropAccepted:()=>{document.body.focus()},onDrop:async e=>{R.onTrue();const o=await(z?.(e[0]));R.onFalse(),o&&(A?.(o),E([...T,...e]))},...B});t((()=>{b&&C(b)}),[b]);const W=S.length>0,q=G||!!x,H=e.jsxs(m,{spacing:3,alignItems:"center",justifyContent:"center",flexWrap:"wrap",children:[e.jsx(c,{component:"img",src:s,sx:{width:52,height:52,flexShrink:0,...I}}),e.jsx(m,{spacing:1,sx:{textAlign:"center"},children:f||e.jsx(p,{sx:{color:"#919EAB",fontSize:"14px"},children:"Drag and drop or click to choose files"})})]}),J=!g&&e.jsx(n,{imgUrl:"string"==typeof S?.[0]?S?.[0]:""}),K=W&&y&&e.jsx(d,{size:"small",onClick:()=>{y?.(S?.[0])},sx:{top:16,right:16,zIndex:9,position:"absolute",color:e=>u(e.palette.common.white,.8),bgcolor:e=>u(e.palette.grey[900],.72),"&:hover":{bgcolor:e=>u(e.palette.grey[900],.48)}},children:e.jsx(i,{icon:"mingcute:close-line",width:18})});return e.jsxs(c,{sx:{width:1,position:"relative",...I},children:[e.jsxs(c,{...F(),sx:{p:5,outline:"none",borderRadius:"var(--radius-15, 12px)",cursor:"pointer",overflow:"hidden",position:"relative",background:"var(--grey-8, rgba(145, 158, 171, 0.08))",border:"1px dashed var(--Scaling-Grey2, #696969)",transition:e=>e.transitions.create(["opacity","padding"]),"&:hover":{opacity:.72},...U&&{opacity:.72},..._&&{opacity:.48,pointerEvents:"none"},...q&&{color:"error.main",borderColor:"error.main",bgcolor:e=>u(e.palette.error.main,.08)},...W&&{padding:"24% 0"}},children:[e.jsx("input",{...P()}),W?J:H,R.value&&e.jsx(c,{sx:{position:"absolute",top:0,bottom:0,left:0,right:0,background:"rgba(255,255,255,0.1)",backdropFilter:"blur(5px)",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(a,{color:"inherit"})})]}),K,h&&h]})}export{_ as UploadDragSingle};
