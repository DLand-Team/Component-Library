const r=(e,t,l)=>{let i,n=e.split("-"),a=t;for(let e=0,t=n.length;e<t;e++){let f=n[e];if(f.includes(".")){f=n[e].split(".")[0];let p=n[e].split(".")[1],s=a[f];if(!s)return null;let y=Array.isArray(s)?s:[s],o=[];if(o="ALL"!==p?y.filter((r=>{let e=l[p];return e=Array.isArray(e)?e:[e],e.includes(r?.[p])})):y,!o.length)break;if(o.length){if(e!=t-1){let t=o.map((t=>r(n.slice(e+1).join("-"),t,l))).filter((r=>r));i="ALL"==p?t:Array.prototype.concat.apply([],t)}else i=o;return i.filter((r=>r))}}if(a=a?.[f],!a)return;if(e==t-1)i=a;else if(Array.isArray(a)){let t=a.map((t=>r(n.slice(e+1).join("-"),t,l))).filter((r=>r));return i=Array.prototype.concat.apply([],t),i.filter((r=>r))}}return i};export{r as getValueByPath};
